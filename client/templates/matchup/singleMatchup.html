<template name="singleMatchup">
  {{#contentFor "headerButtonLeft"}}
    {{>ionNavBackButton path="matchup"}}
  {{/contentFor}}

  {{#contentFor "headerTitle"}}
    <h1 class="title white-text-header">Matchup Details</h1>
  {{/contentFor}}

  {{#contentFor "headerButtonRight"}}
    <button style="font-size: 13px;" class="button button-clear" data-action="editMatchup">
      {{> ionIcon icon="ios-gear"}}
    </button>
  {{/contentFor}}

  {{#ionView}}
    {{#ionContent}}
      {{#with matchup}}
        <div class="container">
          <div class="item item-divider ten-spacing">
      			<span>{{matchupName this}}'s Matchup</span>
      		</div>
          <div class="matchup-card">
          <h4>{{gameName this.gameId}}</h4>

          <span class="group-details-icon">
            {{> ionIcon icon='star'}}
          </span>
          <span class="group-details-list">
            Commissioner: {{username this.commissioner}}
          </span>

          <span class="group-details-icon">
            {{> ionIcon icon='ios-people'}}
          </span>
          <span class="group-details-list">
            {{users this.users}} of {{limitNum}}
          </span>

          <!-- <span class="group-details-icon">
            {{> ionIcon icon='ios-people'}}
          </span>
          <span class="group-details-list">
            {{this.skill}}
          </span> -->

          {{this.description}}
        </div>
        {{#if alreadyJoined this.users}}
          {{> matchupMember}}
          <button data-action="inviteToMatchup" class="button button-balanced col col-100 float-left">
            {{> ionIcon icon='ios-upload-outline'}} Invite
          </button>
        {{else}}
          {{> matchupJoin}}
        {{/if}}
        </div>
      {{/with}}
    {{/ionContent}}
  {{/ionView}}
</template>

<template name="matchupJoin">
  {{#if notMaxed}}
    {{#if allowToJoin}}
      <button data-action="joinMatchup" class="button button-balanced col col-100">
        Join
      </button>
    {{else}}
      {{#if request}}
        {{> requestInvite}}
      {{/if}}
    {{/if}}
  {{else}}

  {{/if}}
</template>

<template name="matchupMember">
  <div class="match-links">
    {{#ionList}}
      <div class="item" data-action="viewGame">
        View Game
      </div>
      <div class="item" data-action="viewMembers">
        View Members
      </div>
      <div class="item" data-action="viewLeaderboard">
        View Leaderboard
      </div>
    {{/ionList}}
  </div>
</template>
