<template name="gameLeaderboard">
 {{> yield 'header'}}

 {{#contentFor "headerButtonLeft"}}
   {{>ionNavBackButton text=" " path="index"}}
 {{/contentFor}}

 {{#contentFor "headerTitle"}}
  <h1 class="title white-text-header">Game Leaderboard</h1>
 {{/contentFor}}

 	<!-- {{#contentFor "headerButtonRight"}}
     <button style="font-size: 9px;" class="button button-clear" data-ion-menu-toggle="right">
       {{> ionIcon icon="funnel"}}
     </button>
   {{/contentFor}} -->

  {{#ionView}}
    {{#ionContent}}
      {{> miniLeaderboard data=data}}
    {{/ionContent}}
  {{/ionView}}
</template>

<template name="miniLeaderboard">
  {{#if leaderboard}}
    <ol type="1" id="leaderboard">
      {{#each player in players}}
        {{> singlePlayerLeader player=player}}
      {{/each}}
    </ol>
  {{else}}
  <ol type="1" id="leaderboard">
    {{#each number in limit}}
      {{> singlePlayerLeaderHolder number=number}}
    {{/each}}
  </ol>
  {{/if}}
</template>

<template name="singlePlayerLeader">
  <div class="item item-avatar leaderboard-item {{following}} {{thisUser}}">
    {{> userAvatar userId=player._id}}
    <li class="list-font" value={{player.rank}}>
      <span class="username">{{username player._id}}</span>
      <span class="score">
        {{{player.coins}}}
      </span>
    </li>
  </div>
</template>

<template name="singlePlayerLeaderHolder">
  <div class="item item-avatar leaderboard-item">
    <div class="avatar user-avatar legit">
      <img class="avatar-loading-anim avatar-image circle-image">
    </div>
    <li class="list-font" value={{number}}></li>
  </div>
</template>
