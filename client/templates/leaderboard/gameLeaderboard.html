<template name="gameLeaderboard">
  {{#contentFor "headerButtonLeft"}}
    {{>ionNavBackButton path="index"}}
  {{/contentFor}}

  {{#contentFor "headerTitle"}}
    <h1 class="title white-text-header">
    	Leaderboard
    </h1>
  {{/contentFor}}

  {{#contentFor "headerButtonRight"}}
     <button style="font-size: 9px;" class="button button-clear" data-ion-menu-toggle="right">
       {{> ionIcon icon="funnel"}}
     </button>
   {{/contentFor}}

  {{#ionView}}
	  {{#ionContent}}
      {{> miniLeaderboard i=25}}
	  {{/ionContent}}
	{{/ionView}}
</template>

<template name="miniLeaderboard">
  <ol type="1">
    {{#each player i}}
      {{#ionItem href=pathUrl avatar=true}}
        {{> userAvatar userId=userId}}
        <li class="list-font">
          <h2 class="center-username">
            {{#with username userId}}
              {{#if following _id}}
                <strong>{{profile.username}}</strong>
              {{else}}
                {{profile.username}}
              {{/if}}
            {{/with}}
            {{#if following userId}}
              <strong><span class="score">{{{coins}}} | {{{diamonds}}}</span></strong>
            {{else}}
              <span class="score">{{{coins}}} | {{{diamonds}}}</span>
            {{/if}}
          </h2>
        </li>
      {{/ionItem}}
    {{/each}}

    {{#with userNotInLeaderboard i}}
      {{#ionItem avatar=true}}
        {{> userAvatar userId=userId}}
        <li class="list-font" style="font-weight: bold;" value={{this.spot}}>
          <h2 class="center-username" style="font-weight: bold;">
            {{#with username userId}}
              {{profile.username}}
            {{/with}}
            <span class="score" style="font-weight: bold;">{{{this.coins}}} | {{{this.diamonds}}}</span>
          </h2>
        </li>
      {{/ionItem}}
    {{/with}}
  </ol>
</template>
