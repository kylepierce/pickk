<template name="leaderboard">

 {{#contentFor "headerButtonLeft"}}
  <button class="button button-clear nav-icon pull-left" data-ion-menu-toggle="left">
    {{#if isAndroid}}
      {{> ionIcon icon='android-more-vertical'}}
    {{else}}
      {{> ionIcon icon='navicon'}}
    {{/if}}
  </button>
{{/contentFor}}

 {{#contentFor "headerTitle"}}
    <h1 class="title white-text-header">Leaderboards</h1>
 {{/contentFor}}

  {{#ionView}}      
    {{#ionContent}} 

<!--     {{> loader}} 
   {{#if Template.subscriptionsReady}}    -->
    {{#ionSlideBox }}      
      {{#ionSlide}}
        <div class="container">
        <!-- Start of List -->
          {{#ionList}}
          <div class="item item-divider">World Leaderboard</div>
            <ol type="1" class="list">

            {{#each player}}
              {{#ionItem path="user.show" avatar=true}}

              <img src="{{profile.avatar}}">
              <li class="list-font">
                <h2 class="center-username">
                  {{profile.username}} 
                  <span class="score">{{profile.coins}}</span>
                </h2>
              </li>
              {{/ionItem}}
            {{/each}}

            </ol>
          {{/ionList}}
        </div>     
        
      {{/ionSlide}}

      {{#each groups}}
        {{#ionSlide }}
          {{> groupLeaderboard groupId=this title=this}}
        {{/ionSlide}}    
      {{/each}}
    {{/ionSlideBox}}

<!--     {{/if}} -->
    {{/ionContent}} 
  {{/ionView}}
</template>

<template name="groupLeaderboard">
  <div class="container">

  {{#ionList}}
    <div class="item item-divider">
    {{#with groupName title}}
      {{name}}
    {{/with}}
    </div>
    <ol type="1" class="list">
      
      {{#each players groupId}}
        {{#ionItem path="user.show" avatar=true}}
        <img src="{{profile.avatar}}">
        <li class="list-font">
          
          <h2 class="center-username">{{profile.username}}<span class="score">{{profile.coins}}</span></h2>
        </li>

        {{/ionItem}}
      {{/each}}
      
    </ol>

    {{/ionList}}
  </div>
</template>
