<template name="notifications">

	<!-- Standard Nav instead of the custom nav design -->
	{{#contentFor "headerButtonLeft"}}
    <button class="button button-clear nav-icon pull-left" data-ion-menu-toggle="left">
      {{#if isAndroid}}
        {{> ionIcon icon='android-more-vertical'}}
      {{else}}
        {{> ionIcon icon='navicon'}}
      {{/if}}
    </button>
  {{/contentFor}}

  {{#contentFor "headerTitle"}}
    <h1 class="title white-text-header">Notifications</h1>
  {{/contentFor}}

  {{#ionView}}
    {{#ionContent}}
		{{#ionList class="my-class"}} 
			<div class="item item-divider">Invitations</div>
 
			{{#with notification}}
				{{#each alert}}
				{{#if type "group"}}	
					{{#ionItem class="double-button" buttonRight=true avatar=true }}
						{{#with user referrer}}
            {{> avatar userId=_id}}
			      <h2>{{profile.username}}</h2>
			      {{/with}}

			      {{#with groupData notificationId }}
			      	
			      <p>wants you to join <strong>{{name}}</strong></p>
			      <a href="/groups/{{_id}}" class="button"> 
			        {{> ionIcon icon="more"}}
			      </a>
			      {{/with}}
			      <a style="margin-right: 50px;" data-action="delete" class="button"> 
			        {{> ionIcon icon="ios-close"}}
			      </a>
			     
	    	{{/ionItem}}
				{{/if}}
				{{/each}}

		<div class="item item-divider">Followers</div>
		{{#each alert}}
			{{#if type "follower"}}	
		    {{#ionItem class="double-button" buttonRight=true avatar=true}}
		    	{{#with user referrer}}
            {{> avatar userId=_id}}
			      <h2>{{profile.username}}</h2>
			    	
			    	Is now following you
			      <a href="/user-profile/{{_id}}" class="button"> 
			        {{> ionIcon icon="more"}}
			      </a>
					{{/with}}
			      <a style="margin-right: 50px;" data-action="delete" class="button"> 
			        {{> ionIcon icon="ios-close"}}
			      </a>
	    	{{/ionItem}}
			{{/if}}
  	{{/each}}

	<div class="item item-divider">Trophies</div>
		{{#each alert}}
			{{#if type "trophy"}}	
		    {{#ionItem buttonRight=true class="item-thumbnail-left"}}
		    	{{#with trophy notificationId}}
					<img style="width: 66px!important;" src="/{{image}}">
		      <h2>{{title}}</h2>
		      <p>{{description}}</p>
		      {{/with}}
		      <a data-action="delete" class="button"> 
	        {{> ionIcon icon="ios-close"}}
		      </a>
	    	{{/ionItem}}
			{{/if}}
  	{{/each}}

<!--   	<div class="item item-divider">Score</div>
		{{#each alert}}
			{{#if type "score"}}	
		    {{#ionItem buttonRight=true}}
		      <p>{{message}}</p>
		      <a data-action="delete" class="button"> 
	        {{> ionIcon icon="ios-close"}}
		      </a>
	    	{{/ionItem}}
			{{/if}}
  	{{/each}} -->
	  {{/with}}

				<br>
<!-- 
			<div class="item item-divider">All notifications</div>

			{{#ionItem buttonRight=true avatar=true}}
				<img src="brad.jpg">
		    <h2>John Smith</h2>
		    <p>is now following you!</p>
		    <button class="button" data-ion-popover="_notificationPopover">
		      {{> ionIcon icon="more"}}
		    </button>
    	{{/ionItem}}

			{{#ionItem buttonRight=true class="item-thumbnail-left"}}
				<img class="pickk-badge" src="san-fran.png">
	      <h2>San Fransico Badge</h2>
	      <p>You watched San Fransico play!</p>
	      <button class="button" data-ion-popover="_notificationPopover">
	        {{> ionIcon icon="more"}}
	      </button>
    	{{/ionItem}}

	    {{#ionItem buttonRight=true class="item-thumbnail-left"}}
				<img src="fire.png">
	      <h2>1% Trophy</h2>
	      <p>You ranked in the top 1% of all players!</p>
	      <button class="button" data-ion-popover="_notification">
	        {{> ionIcon icon="more"}}
	      </button>
    	{{/ionItem}} -->
			
		{{/ionList}}
    {{/ionContent}}
  {{/ionView}}
</template>

<template name="gameNotifications">
	<div class="item item-divider">Game Notifications</div>

		{{#ionItem}}
				{{#each question}}
					<p>You guessed... {{_id}}</p>
				{{/each}}
    	{{/ionItem}}
</template>

<template name="type">
  {{#if type value}}
    {{> UI.contentBlock}}
  {{else}}
    {{> UI.elseBlock}}
  {{/if}}
</template>
