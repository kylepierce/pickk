<template name="notifications">

	<!-- Standard Nav instead of the custom nav design -->
	{{#contentFor "headerButtonLeft"}}
    <button class="button button-clear nav-icon pull-left" data-ion-menu-toggle="left">
      {{#if isAndroid}}
        {{> ionIcon icon='android-more-vertical'}}
      {{else}}
        {{> ionIcon icon='navicon'}}
      {{/if}}
    </button>
  {{/contentFor}}

  {{#contentFor "headerTitle"}}
    <h1 class="title white-text-header">Notifications</h1>
  {{/contentFor}}

  {{#ionView}}
    {{#ionContent}}
		{{#ionList class="my-class"}} 
			<div class="item item-divider">Invitations</div>
 
			{{#with notification}}
				{{#each group}}
				{{#if type "group"}}	
					{{#ionItem buttonRight=true avatar=true}}
						{{#with user referrer}}
						<img src="{{profile.avatar}}">
			      <h2>{{profile.username}}</h2>
			      {{/with}}

			      {{#with groupData notificationId }}
			      	
			      <p>wants you to join <strong>{{name}}</strong></p>
			      <a href="/groups/{{_id}}" class="button"> 
			        {{> ionIcon icon="more"}}
			      </a>
			     {{/with}}
	    	{{/ionItem}}
				{{/if}}
				{{/each}}

	<div class="item item-divider">Trophies</div>
		{{#each group}}
			{{#if type "trophy"}}	
		    {{#ionItem buttonRight=true class="item-thumbnail-left"}}
		    	{{#with trophy notificationId}}
					<img src="/{{image}}">
		      <h2>{{title}}</h2>
		      <p>{{description}}</p>
		      <button class="button" data-ion-popover="_notification">
		        {{> ionIcon icon="more"}}
		      </button>
		      {{/with}}
	    	{{/ionItem}}
			{{/if}}
  	{{/each}}
	    {{/with}}
			<!-- 					{{else}}
						{{#with user referrer}}
						<img src="{{profile.avatar}}">
			      <h2>{{profile.username}}</h2>
			      {{/with}}
			      <p>wants you to play <strong>
			      {{#with groupData notificationId }}
			      	{{name}}
						{{/with}}
			      </strong></p>
			      <button class="button" data-ion-popover="_notificationPopover">
			        {{> ionIcon icon="more"}}
			      </button>
					{{/if}} -->

				<br>

			<div class="item item-divider">All notifications</div>
			
<!-- 			{{#with notification}}
				{{#each request}}
				
				{{#ionItem buttonRight=true avatar=true}}
 
			      {{#with trophy notificationId }}
			      	
			      <img class="pickk-badge" src="{{img}}">
	      		<h2>{{title}}</h2>
			      <p>{{description}}</p>
			      <button class="button" data-ion-popover="_notificationPopover">
			        {{> ionIcon icon="more"}}
			      </button>

			      {{/with}}

	    	{{/ionItem}}
	    	{{/each}}
	    {{/with}} -->



			{{#ionItem buttonRight=true avatar=true}}
				<img src="brad.jpg">
		    <h2>John Smith</h2>
		    <p>is now following you!</p>
		    <button class="button" data-ion-popover="_notificationPopover">
		      {{> ionIcon icon="more"}}
		    </button>
    	{{/ionItem}}

			{{#ionItem buttonRight=true class="item-thumbnail-left"}}
				<img class="pickk-badge" src="san-fran.png">
	      <h2>San Fransico Badge</h2>
	      <p>You watched San Fransico play!</p>
	      <button class="button" data-ion-popover="_notificationPopover">
	        {{> ionIcon icon="more"}}
	      </button>
    	{{/ionItem}}

	    {{#ionItem buttonRight=true class="item-thumbnail-left"}}
				<img src="fire.png">
	      <h2>1% Trophy</h2>
	      <p>You ranked in the top 1% of all players!</p>
	      <button class="button" data-ion-popover="_notification">
	        {{> ionIcon icon="more"}}
	      </button>
    	{{/ionItem}}
			
		{{/ionList}}

    {{/ionContent}}
  {{/ionView}}
</template>

<template name="gameNotifications">
	<div class="item item-divider">Game Notifications</div>

		{{#ionItem}}
				{{#each question}}
					<p>You guessed... {{_id}}</p>
				{{/each}}
    	{{/ionItem}}
</template>

<template name="type">
  {{#if type value}}
    {{> UI.contentBlock}}
  {{else}}
    {{> UI.elseBlock}}
  {{/if}}
</template>
