<template name="singleGroup">
<!-- Standard Nav instead of the custom nav design -->
  {{#contentFor "headerButtonLeft"}}
    {{>ionNavBackButton path="index"}}
  {{/contentFor}}

  {{#if member}}
    {{#contentFor "headerButtonRight"}}
      <button style="font-size: 13px;" class="button button-clear" data-ion-menu-toggle="right">
        {{> ionIcon icon="ios-chatboxes"}}
      </button>
    {{/contentFor}}
  {{/if}}

  {{#contentFor "headerTitle"}}
    <h1 class="title white-text-header">
      {{groupName}}
    </h1>
  {{/contentFor}}

  {{#ionView}}
    {{#ionContent}}
      {{#if visible}}
        <div class="group-wrapper">
          {{> groupAvatar}}
          {{> groupData}}
        </div>
        <!-- {{> memberCheck}} -->
        {{#if member}}
          <div class="item item-divider">Upcoming Matchups</div>
        {{/if}}
      {{else}}
        <div class="no-notifications">
          This group is private and can only be seen by members
        </div>
      {{/if}}
   {{/ionContent}}
  {{/ionView}}
</template>

<template name="groupData">
  <ul class="group-details">
    <li>
      <span class="group-details-icon center-text" style="font-size: 1.9em;">
        {{> ionIcon icon='ios-people'}}
      </span>
      <span class="group-details-text">
        {{memberCount}} Members
      </span>
    </li>
    <li>
      <span class="group-details-icon center-text">
        {{> ionIcon icon='star'}}
      </span>
      <span class="group-details-text">
        Commissioner: {{commissioner}}
      </span>
    </li>
    {{description}}
  </ul>
</template>

<template name="memberCheck">
  <div class="group-buttons">
	{{#if alreadyMember }}
    <button class="button col col-50 button-balanced" style="margin-right: 10px;">
     {{> ionIcon icon='ios-upload-outline'}} Invite
    </button>

    {{#if commissionerAdmin}}
      <button id="settings" data-ion-popover="_adminOptions" class="button col col-10 button-stable" style="margin-left: 10px;">
        {{> ionIcon icon='ios-gear'}}
      </button>
    {{else}}
		  <button id="join-toggle" data-action="showActionSheet" class="button button-assertive col col-33" >Leave</button>

    {{/if}}

	{{else}}
    {{#if invite}}
      {{> inviteOnly}}
    {{else}}
		  <button data-action="joinGroup" id="join-toggle" class="button button-balanced col col-50" >Join</button>
	  {{/if}}
  {{/if}}
  </div>
</template>

<template name="requestInvite">
  {{#if alreadyRequested}}
    <button data-action="requestPending" id="join-toggle" class="button button-stable col col-75" style="float:right">Request Pending</button>
  {{else}}
    <button data-action="requestInvite" id="join-toggle" class="button button-balanced col col-75" style="float:right">Request Invite</button>
  {{/if}}
</template>

<template name="inviteOnly">
  {{#if invite}}
    <button data-action="joinGroup" id="join-toggle" class="button button-balanced col col-50" style="float:right">Join</button>
  {{else}}
    {{> requestInvite}}
  {{/if}}
</template>
