<template name="activeGames">
  {{> homeLayoutHeader}}
  
  {{#contentFor "headerTitle"}}
      <h1 class="title white-text-header">Home</h1>
  {{/contentFor}}

  {{#ionView}}
    {{#ionContent}}
      
      <div class="hero-section">
        <a href="">
          <div class="single-slide" style="background-image: url('http://pickk.co/wp-content/uploads/2016/06/CBP160614036_Yankees_at_Rockies.jpg')">
            <div class="slider-text">
              Miami vs St. Louis -- Live
            </div>
          </div>
        </a>
        <a href="">
          <div class="single-slide" style="background-image: url('http://pickk.co/wp-content/uploads/2016/06/DAW16060236Red-Sox_at_Orioles.jpg')">
            <div class="slider-text">
              Yankees vs Boston -- Live Yankees vs Boston -- Live
            </div>
          </div>
        </a>
      </div>

      <div class="container" style="margin-top: 10px;">
        {{#each game in games}}
          <div class="complete-game-card">
            {{> singleGameInfo game=game}}
            {{> singleGameCard game=game}}
            {{> singleGameCTA game=game}}
          </div>
        {{/each}}
      </div>
    {{/ionContent}}
  {{/ionView}}
</template>

<template name="singleGameInfo">
  <div class="single-game-shared single-game-info">
    {{#if inProgress}}
      {{> gameInProgressInfo game=game}}
    {{/if}}

    {{#if future}}
      {{> futureGameInfo game=game}}
    {{/if}}
  </div>
</template>

<template name="singleGameCTA">
  {{#if inProgress}}
    <div data-action="play" id="{{game.id}}" class="single-game-shared single-game-cta">
      Play Now! ({{game.tv}})
    </div>
  {{/if}}
</template>

<template name="gameInProgressInfo">
 <!--  <div class="col-md-20 single-game-section">
    {{> count id=game.users}}
  </div> -->
  <div class="col-md-33 single-game-section">
    {{> inningDisplay inning=game.inning position=game.topOfInning}}
  </div>
  <div class="col-md-33 single-game-section">
    {{> outDisplay number=game.outs}}
  </div>
  <div class="col-md-33 single-game-section">
    {{> playersOnBase base=game.playersOnBase}}
  </div>
</template>

<template name="futureGameInfo">
  <div>
    {{ displayDate game.scheduled}} ({{game.tv}})
  </div>
</template>

<template name="count">
  {{#if userPlaying id}}
    Playing
  {{else}}
    Join
  {{/if}} 
</template>

<template name="outDisplay">
    {{{outs number}}}
</template>

<template name="inningDisplay">
  <span class="inning-position">
    {{#if position}}
      <i class="fa fa-caret-up"></i>
    {{else}} 
      <i class="fa fa-caret-down"></i>
    {{/if}}
  </span>
  <span class="inning">{{inning}}</span> 
</template>

<template name="playersOnBase">
  <!-- Fix last / clean up -->
  {{#if base.third}} 
    <div class="base-empty base-diamond base-fix third-base"></div> 
  {{else}} 
    <div class="base-diamond base-fix third-base"></div> 
  {{/if}}
  {{#if base.second}} 
    <div class="base-empty base-diamond second-base"></div> 
  {{else}} 
    <div class="base-diamond second-base"></div>
  {{/if}} 
  {{#if base.first}} 
    <div class="base-empty base-diamond base-fix first-base"></div> 
  {{else}} 
    <div class="base-diamond base-fix first-base"></div>
  {{/if}}
</template>


<template name="singleGameCard">
  <ul class="single-game-card">

    {{> teamBlock id=game.home.id abbr=game.home.abbr name=game.home.name runs=game.scoring.home.runs }}

    {{> teamBlock id=game.away.id abbr=game.away.abbr name=game.away.name runs=game.scoring.away.runs }}

  </ul>
</template>


<template name="teamBlock">
  <li class="team-block">
    <div class="team-colors team-text" style="background-color:{{teamColors id}}">
      {{abbr}}
    </div> 
    <div class="team-block-border">
      <span class="team-name team-text">{{name}}</span>
      <span class="team-score team-text">{{runs}}</span>
    </div>
  </li>
</template>